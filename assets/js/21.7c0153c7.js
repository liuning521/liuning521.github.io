(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{569:function(a,t,s){"use strict";s.r(t);var e=s(17),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("ul",[s("li",[s("p",[a._v("现在npm上注册一个账号，绑定邮箱并验证（邮箱必须验证，不验证回到是发布不成功）")])]),a._v(" "),s("li",[s("p",[a._v("创建一个项目，编写组件")])]),a._v(" "),s("li",[s("p",[a._v("在package.json得scripts中 添加编译命令")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n     "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("...")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[a._v('"lib"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"vue-cli-service build --target lib --name 组件名 --dest lib packages/index.js"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("执行编译命令npm run lib")])]),a._v(" "),s("li",[s("p",[a._v("配置package.json中发布到npm得字段")]),a._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("name: 包名，该名字是唯一的。可在 npm 官网搜索名字，如果存在则需换个名字。\nversion: 版本号，每次发布至 npm 需要修改版本号，不能和历史版本号相同。\ndescription: 描述。\nmain: 入口文件，该字段需指向我们最终编译后的包文件。\nkeyword：关键字，以空格分离希望用户最终搜索的词。\nauthor：作者\nprivate：是否私有，需要修改为 false 才能发布到 npm\nlicense： 开源协议\n")])])])]),a._v(" "),s("li",[s("p",[a._v("添加.npmignore文件，设置忽略发布得文件")]),a._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# 忽略目录\nexamples/\npackages/\npublic/\n\n# 忽略指定文件\nvue.config.js\nbabel.config.js\n*.map\n")])])])]),a._v(" "),s("li",[s("p",[a._v("如果npm修改了淘宝镜像，先设置回npm镜像")]),a._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm config set registry http://registry.npmjs.org \n")])])])]),a._v(" "),s("li",[s("p",[a._v("登录到 npm")]),a._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v(" npm login 回车后输入npm中注册的用户名和密码\n")])])])]),a._v(" "),s("li",[s("p",[a._v("发布到npm")]),a._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm publish\n")])])])]),a._v(" "),s("li",[s("p",[a._v("更新发布的版本")]),a._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("修改package.json中的version 版本号\n然后重新 npm publish 一下\n")])])])]),a._v(" "),s("li",[s("p",[a._v("撤销发布的版本")]),a._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm unpublish 项目名@版本号\n")])])])])]),a._v(" "),s("p",[a._v("​")])])}),[],!1,null,null,null);t.default=n.exports}}]);